language: java

cache:
  directories:
  - $HOME/.m2

jdk:
  - oraclejdk8

after_success:
  - codecov
  - mvn package -pl ugs-core assembly:assembly
  - mvn install

before_script:
  - pip install --user codecov


before_install:
  - wget https://github.com/winder/Universal-G-Code-Sender/archive/1ec86e4935d897fd4373c2e64de8e8598692bc95.zip
  - unzip 1ec86e4935d897fd4373c2e64de8e8598692bc95.zip
  - cp -rT Universal-G-Code-Sender-1ec86e4935d897fd4373c2e64de8e8598692bc95 ./
  - rm -r Universal-G-Code-Sender-1ec86e4935d897fd4373c2e64de8e8598692bc95
  - rm 1ec86e4935d897fd4373c2e64de8e8598692bc95.zip
