language: java
services: docker
before_install:
  - wget https://github.com/rickfast/consul-client/archive/46fccb10927fc0a77c9bff01b7da4debdd5704b4.zip
  - unzip 46fccb10927fc0a77c9bff01b7da4debdd5704b4.zip
  - cp -rT consul-client-46fccb10927fc0a77c9bff01b7da4debdd5704b4 ./
  - rm -r consul-client-46fccb10927fc0a77c9bff01b7da4debdd5704b4
  - rm 46fccb10927fc0a77c9bff01b7da4debdd5704b4.zip
  - docker run -d -p 127.0.0.1:8500:8500 consul:1.0.7 agent -dev -client 0.0.0.0 --enable-script-checks=true

jdk:
  - oraclejdk8
script: mvn clean test

