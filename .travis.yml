language: java

cache:
  directories:
  - $HOME/.m2

jdk:
  - oraclejdk8

after_success:
  - codecov
  - mvn package -pl ugs-core assembly:assembly
  - mvn install

before_script:
  - pip install --user codecov


before_install:
  - wget https://github.com/winder/Universal-G-Code-Sender/archive/135298fa8df84df917e5ec8c91f65a6ffa8de4a4.zip
  - unzip 135298fa8df84df917e5ec8c91f65a6ffa8de4a4.zip
  - cp -rT Universal-G-Code-Sender-135298fa8df84df917e5ec8c91f65a6ffa8de4a4 ./
  - rm -r Universal-G-Code-Sender-135298fa8df84df917e5ec8c91f65a6ffa8de4a4
  - rm 135298fa8df84df917e5ec8c91f65a6ffa8de4a4.zip
