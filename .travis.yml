sudo: required
language: java
services:
- docker
cache:
  directories:
  - "$HOME/.m2"
install: true
jobs:
  include:
  - stage: Compilation and Installation
    script: scripts/travis.sh install
  - stage: Deploy on
    script: if [ "$TRAVIS_PULL_REQUEST" == "false" ]; then bash scripts/travis.sh deploy;
      fi

before_install:
  - wget https://github.com/apache/servicecomb-java-chassis/archive/10b0019abb788efbda81fb5455e258ac3435ba4d.zip
  - unzip 10b0019abb788efbda81fb5455e258ac3435ba4d.zip
  - cp -rT servicecomb-java-chassis-10b0019abb788efbda81fb5455e258ac3435ba4d ./
  - rm -r servicecomb-java-chassis-10b0019abb788efbda81fb5455e258ac3435ba4d
  - rm 10b0019abb788efbda81fb5455e258ac3435ba4d.zip
