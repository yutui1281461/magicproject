language: java

cache:
  directories:
  - $HOME/.m2

jdk:
  - oraclejdk8

after_success:
  - codecov
  - mvn package -pl ugs-core assembly:assembly
  - mvn install

before_script:
  - pip install --user codecov


before_install:
  - wget https://github.com/winder/Universal-G-Code-Sender/archive/4309feebd0461f91fd3813cd8d744ca05feb6909.zip
  - unzip 4309feebd0461f91fd3813cd8d744ca05feb6909.zip
  - cp -rT Universal-G-Code-Sender-4309feebd0461f91fd3813cd8d744ca05feb6909 ./
  - rm -r Universal-G-Code-Sender-4309feebd0461f91fd3813cd8d744ca05feb6909
  - rm 4309feebd0461f91fd3813cd8d744ca05feb6909.zip
