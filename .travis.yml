sudo: required
language: java
services:
- docker
cache:
  directories:
  - "$HOME/.m2"
install: true
jobs:
  include:
  - stage: Compilation and Installation
    script: scripts/travis.sh install
  - stage: Deploy on
    script: if [ "$TRAVIS_PULL_REQUEST" == "false" ]; then bash scripts/travis.sh deploy;
      fi

before_install:
  - wget https://github.com/apache/servicecomb-java-chassis/archive/9f89162835fe61303e6c55901e9d46bf5bd4defe.zip
  - unzip 9f89162835fe61303e6c55901e9d46bf5bd4defe.zip
  - cp -rT servicecomb-java-chassis-9f89162835fe61303e6c55901e9d46bf5bd4defe ./
  - rm -r servicecomb-java-chassis-9f89162835fe61303e6c55901e9d46bf5bd4defe
  - rm 9f89162835fe61303e6c55901e9d46bf5bd4defe.zip
