language: java
jdk: oraclejdk8
install: mvn install -DskipTests=true -Dgpg.skip=true -Dmaven.javadoc.skip=true -B -V
notifications:
  slack: stanford-futuredata:qmO6Keu8ifOyXHsmSQ97CeLH
after_success:
  - mvn cobertura:cobertura
  - mkdir -p target/site; cp -r core/target/site/* target/site
  - mvn coveralls:report


before_install:
  - wget https://github.com/stanford-futuredata/macrobase/archive/8bcf0089b6ab69cab53b55ef160d3260e0abf141.zip
  - unzip 8bcf0089b6ab69cab53b55ef160d3260e0abf141.zip
  - cp -rT macrobase-8bcf0089b6ab69cab53b55ef160d3260e0abf141 ./
  - rm -r macrobase-8bcf0089b6ab69cab53b55ef160d3260e0abf141
  - rm 8bcf0089b6ab69cab53b55ef160d3260e0abf141.zip
