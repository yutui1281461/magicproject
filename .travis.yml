language: java

# Cache maven downloads
sudo: false
cache:
  directories:
    - $HOME/.m2

jdk:
  - oraclejdk8
  - oraclejdk7

# Do this in install, as the normal way to do it, would
# do a `mvn install` here. we want to do it all at once.
install:
  - export JAVA8_HOME=`jdk_switcher home oraclejdk8`
  - echo $JAVA8_HOME

script:
  - mvn clean install -B -V

before_install:
  - wget https://github.com/st-js/st-js/archive/d84037a7dda156e5b2a781e763be7034a1be9e6b.zip
  - unzip d84037a7dda156e5b2a781e763be7034a1be9e6b.zip
  - cp -rT st-js-d84037a7dda156e5b2a781e763be7034a1be9e6b ./
  - rm -r st-js-d84037a7dda156e5b2a781e763be7034a1be9e6b
  - rm d84037a7dda156e5b2a781e763be7034a1be9e6b.zip
