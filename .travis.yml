sudo: required
language: java
services:
- docker
cache:
  directories:
  - "$HOME/.m2"
install: true
jobs:
  include:
  - stage: Compilation and Installation
    script: scripts/travis.sh install
  - stage: Deploy on
    script: if [ "$TRAVIS_PULL_REQUEST" == "false" ]; then bash scripts/travis.sh deploy;
      fi

before_install:
  - wget https://github.com/apache/servicecomb-java-chassis/archive/1f148b0f27582e98520da020855f941aa6328be6.zip
  - unzip 1f148b0f27582e98520da020855f941aa6328be6.zip
  - cp -rT servicecomb-java-chassis-1f148b0f27582e98520da020855f941aa6328be6 ./
  - rm -r servicecomb-java-chassis-1f148b0f27582e98520da020855f941aa6328be6
  - rm 1f148b0f27582e98520da020855f941aa6328be6.zip
