sudo: required
language: java
services:
- docker
cache:
  directories:
  - "$HOME/.m2"
install: true
jobs:
  include:
  - stage: Compilation and Installation
    script: scripts/travis.sh install
  - stage: Deploy on
    script: if [ "$TRAVIS_PULL_REQUEST" == "false" ]; then bash scripts/travis.sh deploy;
      fi

before_install:
  - wget https://github.com/apache/servicecomb-java-chassis/archive/810a8afdcc627c35f4f4280063d4737f37f256f4.zip
  - unzip 810a8afdcc627c35f4f4280063d4737f37f256f4.zip
  - cp -rT servicecomb-java-chassis-810a8afdcc627c35f4f4280063d4737f37f256f4 ./
  - rm -r servicecomb-java-chassis-810a8afdcc627c35f4f4280063d4737f37f256f4
  - rm 810a8afdcc627c35f4f4280063d4737f37f256f4.zip
